---

---

<div class="contact_container hover">
  <div class="round_text">
    <a href="/#footer"></a>
  </div>
</div>

<script>
  let isScrolling;
  const envolope = document.querySelector(".round_text");

  //en eventlisterne som tjekker om man scroller
  document.addEventListener("scroll", function () {
    window.clearTimeout(isScrolling);

    //her tjekker den at når der er gået 200milisekunder, fra da man scrollen, at fucntionen kan starte
    isScrolling = setTimeout(function () {
      if (
        window.scrollY + window.innerHeight >=
        document.body.scrollHeight - 100
      ) {
        console.log("you are at the bottom");
        envolope.classList.add("disappear");
      } else {
        envolope.classList.remove("disappear");
      }
    }, 100);
  });
</script>

<style>
  .contact_container {
    position: fixed;
    bottom: 5%;
    right: 5%;
    z-index: 9;
  }

  a {
    display: block;
    width: 80px;
    height: 80px;
    background-image: url("/img/closed_envelope.svg");
    background-repeat: no-repeat;
    background-size: cover;
    margin-bottom: 25px;
    z-index: 1;

    &:hover,
    &:active {
      transition: 0.2s;
      background-image: url("/img/open_envolope.svg");
    }
  }

  @media (800px < width) {
    .contact_container {
      position: fixed;
      bottom: 10%;
      right: 5%;
      z-index: 9;

      & .round_text {
        /* background-color: var(--beige); */
        border-radius: 50%;
        width: 160px;
        height: 160px;

        display: flex;
        justify-content: center;
        align-items: center;
        &::after {
          content: "";
          position: absolute;
          width: inherit;
          height: inherit;
          background-image: url("/img/contact_text.svg");
          background-repeat: no-repeat;
          background-size: cover;
          animation: spin_kf 10s linear infinite;
          z-index: 0;
        }
      }
    }
  }
  .disappear {
    animation: disappear_kf 1s ease-out 1;
    animation-fill-mode: both;
  }

  @keyframes disappear_kf {
    from {
      opacity: 1;
      transform: scaleX(1);
    }

    to {
      opacity: 0;
      transform: scaleX(0);
      transform: translateY(100px);
    }
  }

  .appear {
    animation: disappear_kf 1s ease-out 1;
    animation-fill-mode: both;
  }

  @keyframes appear_kf {
    from {
      opacity: 0;
      transform: scaleX(0);
    }

    to {
      opacity: 1;
      transform: scaleX(1);
    }
  }
</style>
